$NetBSD: patch-ag,v 1.18 2009/05/20 13:07:36 wiz Exp $

http://bugzilla.gnome.org/show_bug.cgi?id=583321

--- glib/gtester.c.orig	2012-03-11 21:43:28.019660800 +0000
+++ glib/gtester.c
@@ -649,7 +649,11 @@ main (int    argc,
       struct sigaction osa;
       sa.sa_handler = SIG_DFL;
       sigfillset (&sa.sa_mask);
+#ifdef SA_RESTART
       sa.sa_flags = SA_RESTART;
+#else /* QNX */
+      sa.sa_flags = 0;
+#endif
       sigaction (SIGCHLD, &sa, &osa);
     }
 
